#!/bin/bash

# echo dont use this yet
# exit 1

MODULE_DIR=$HOME/dots/modules
CONFIG=".config"

sw_clean() {
  echo cleaning module $1...
  for i in $(ls $MODULE_DIR/$1); do
    # this is scary
    rm -r $HOME/$CONFIG/$i
  done
}

sw_apply() {
  echo appling module $1...
  # gosh stow
  stow -d $HOME/dots -t $HOME/$CONFIG --no-folding $1 --dotfiles
}

sw_list() {
  ls $MODULE_DIR | sort -r 
}

case "$1" in
  "list"    ) sw_list;;
  "apply"   ) sw_apply $2 ;;
esac
